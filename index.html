<!DOCTYPE html>

<meta charset="utf-8">
<title>Interaktivt løbskort, Alligatorløbet 2013</title>
<meta name="description" value="Få det komplette overblik over Alligatorløbet 2013. Vælg selv hvilke sjak du vil følge, justér hastigheden, spol frem og tilbage, pause og replay. Farven på markørerne bliver varmere efterhånden som der optjenes point.">

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-324145-19']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

<link rel="stylesheet" href="style.css">

<div id="map">
	<img src="map.gif">
</div>

<div id="ctrl">
</div>

<div id="runners">
	<label class=all>Alle</label>
	<label class=none>Ingen</label>
</div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<script src="data.js"></script>
<script src="script.js"></script>

<!--
<script>
    $.get("data.csv", function(data) {
        var lines = data.split("\n");
        var s = "";
        for( var i = 0; i < lines.length; i++ ) {
            var cols = lines[i].split(";");
            s += "\n{name:'" + cols[0] + "',track:[";
            s += "[0,0," + i * 100 + "],";
            
            for( var j = 1; j < cols.length; j++ ) {
                var rgx = /(\d(:))?(\d*).(\d*)/gi;
                var result = rgx.exec(cols[j]);
                
                if(result) {
                    var hours = result[1] ? parseFloat(result[1]) * 60 * 60 : 0,
                        minutes = result[3] ? parseFloat(result[3]) * 60 : 0,
                        seconds = result[4] ? parseFloat(result[4]) : 0;
                    
                    var time = isNaN(hours) ? 0 : hours;
                    time += isNaN(minutes) ? 0 : minutes;
                    time += isNaN(seconds) ? 0 : seconds;
                    
                    s += "[" + time + "," + (j-1) + "," + i * 100 + "],";
                }
            }
            s = s.substr(0, s.length - 1);
            s += "]},";
        }
        
        console.log( s );
    });
</script>
-->
